/* empty css                           */import{_ as F}from"./_plugin-vue_export-helper.c27b6911.js";import{r as l,a as Y,f as X,j as p,s as x,F as z,l as N,q as U,u as V,v as q,k as w,t as I}from"./runtime-core.esm-bundler.d79f69b0.js";const O={__name:"Map",setup(H,{expose:M}){M();const d=l(0),t=l(0);let n=l(),s=l(),o=l(),u=l(),g=l(0),h=l(0),m=l(0),f=l(0),v=l(!1),c=l(1),i=l(0),r=l(0);const y=[{slug:"1",title:"Концерт UAYIMDAMA",position:{left:9,top:44}},{slug:"2",title:"Шоу-мюзикл «Аладдин»",position:{left:38,top:27}},{slug:"3",title:"Выставка моделей кораблей «Бегущий по волнам»",position:{left:86,top:61}},{slug:"4",title:"Трибьют-концерт группы «Кино»",position:{left:49,top:63}},{slug:"5",title:"Тематическая игра «Вперед в отпуск»",position:{left:51,top:47}}],T=()=>{console.log("fff"),n.value=m/2-g/2,s.value=f/2-h/2,o.value=g,u.value=h},S=()=>{c.value>1.5?c.value=.75:c.value=c.value+.5},E=e=>{let a=1;a+=e.deltaY*-.0025,a=Math.min(Math.max(.75,a),2),c.value=a},b=e=>{v.value=!0,i.value=e.clientX,r.value=e.clientY},k=e=>{if(v.value){const a=e.clientX-i.value,W=e.clientY-r.value;i.value=e.clientX,r.value=e.clientY,n.value+=a,s.value+=W,s.value>u.value/5&&(s.value=u.value/5),n.value>o.value/5&&(n.value=o.value/5),s.value<u.value/-3&&(s.value=u.value/-3),n.value<o.value/-3&&(n.value=o.value/-3)}},A=()=>{v.value=!1},B=e=>{const a=e.touches[0];i.value=a.clientX,r.value=a.clientY},L=e=>{if(e.touches.length===1){const a=e.touches[0],W=a.clientX-i.value,C=a.clientY-r.value;i.value=a.clientX,r.value=a.clientY,n.value+=W,s.value+=C}};let _=0;const j=()=>{const e=new Date().getTime();e-_<=200&&S(),_=e};Y(()=>{g=t.value.clientWidth,h=t.value.clientHeight,m=d.value.clientWidth,f=d.value.clientHeight,T()});const D={mapWrap:d,svgMap:t,get left(){return n},set left(e){n=e},get top(){return s},set top(e){s=e},get width(){return o},set width(e){o=e},get height(){return u},set height(e){u=e},get imgWidth(){return g},set imgWidth(e){g=e},get imgHeight(){return h},set imgHeight(e){h=e},get mapWrapWidth(){return m},set mapWrapWidth(e){m=e},get mapWrapHeight(){return f},set mapWrapHeight(e){f=e},get isDragging(){return v},set isDragging(e){v=e},get isScale(){return c},set isScale(e){c=e},get startX(){return i},set startX(e){i=e},get startY(){return r},set startY(e){r=e},events:y,initSizes:T,zoom:S,zoomWhell:E,startDragging:b,dragMap:k,stopDragging:A,handleTouchStart:B,handleTouchMove:L,get lastTouchEnd(){return _},set lastTouchEnd(e){_=e},handleTouchEnd:j,ref:l,onMounted:Y,onUnmounted:q};return Object.defineProperty(D,"__isScriptSetup",{enumerable:!1,value:!0}),D}},P=p("img",{draggable:"false",src:"/maps/petropavl.svg",alt:"pavlodar map"},null,-1),R=["href"];function G(H,M,d,t,n,s){return w(),X(z,null,[p("div",{class:U(["map",{"-grabing":t.isDragging}]),ref:"mapWrap",onResize:t.initSizes,onWheel:t.zoomWhell,onDblclick:t.zoom,onMousedown:t.startDragging,onMousemove:t.dragMap,onMouseleave:t.stopDragging,onMouseup:t.stopDragging,onTouchstart:t.handleTouchStart,onTouchmove:t.handleTouchMove,onTouchend:t.handleTouchEnd},[p("div",{class:"map__svg",ref:"svgMap",style:x({transform:"translate("+t.left+"px, "+t.top+"px) scale("+t.isScale+")",width:t.width+"px",height:t.height+"px"})},[P,(w(),X(z,null,N(t.events,o=>p("a",{key:o.slug,href:`/ru/petropavl/event/${o.slug}`,class:"map__point",style:x({left:o.position.left+"%",top:o.position.top+"%"})},[p("span",null,I(o.title),1)],12,R)),64))],4)],34),V("",!0)],64)}const Z=F(O,[["render",G]]);export{Z as default};
